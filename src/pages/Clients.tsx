import React, { useState } from 'react';
import { Helmet } from 'react-helmet-async';
import { Hero } from '@/components/Hero';
import { Stepper } from '@/components/Stepper';
import { LeadForm } from '@/components/LeadForm';
import { TestimonialCard } from '@/components/TestimonialCard';

export default function Clients() {
  const [open, setOpen] = useState<number | null>(null);
  const faqs = [
    { q: 'Comment fonctionne l‚Äôestimation ?', a: 'Vous prenez des photos, notre IA estime le volume et les besoins.' },
    { q: 'Combien de temps pour recevoir des devis ?', a: 'G√©n√©ralement quelques minutes √† quelques heures.' },
    { q: 'Les d√©m√©nageurs sont-ils v√©rifi√©s ?', a: 'Oui, nous s√©lectionnons des partenaires de confiance.' },
  ];

  return (
    <>
      <Helmet>
        <title>Devis d√©m√©nagement en 5 minutes ‚Äì Moverz (Particuliers)</title>
      </Helmet>
      <Hero
        title="Particuliers : obtenez 3 devis en 5 minutes"
        subtitle="Fini les visites techniques. Simplicit√©, s√©r√©nit√©, transparence."
        primaryCta={{ label: 'Commencer', to: '#lead' }}
      />

      <section className="section">
        <div className="container space-y-8">
          <Stepper
            steps={[
              { icon: 'üì∏', title: 'Photos', text: 'Prenez des photos de vos pi√®ces.' },
              { icon: 'ü§ñ', title: 'Analyse IA', text: 'Estimation pr√©cise du volume.' },
              { icon: 'üìÑ', title: 'Devis', text: 'Recevez jusqu‚Äô√† 3 devis.' },
            ]}
          />
        </div>
      </section>

      <section id="lead" className="section bg-white">
        <div className="container space-y-6">
          <h2 className="h2">D√©marrer ma demande</h2>
          <LeadForm />
        </div>
      </section>

      <section className="section">
        <div className="container grid md:grid-cols-3 gap-6">
          <TestimonialCard name="Sophie R." role="Particulier ‚Äì Lille" text="Ultra simple, devis rapides et fiables." />
          <TestimonialCard name="Nicolas P." role="Particulier ‚Äì Lyon" text="Z√©ro stress, tout √©tait clair." />
          <TestimonialCard name="Laura M." role="Particulier ‚Äì Paris" text="G√©nial pour comparer les offres." />
        </div>
      </section>

      <section className="section">
        <div className="container space-y-4">
          <h2 className="h2">FAQ</h2>
          <div className="space-y-3">
            {faqs.map((f, i) => (
              <article key={i} className="card">
                <button className="w-full text-left h3" onClick={() => setOpen(open === i ? null : i)} aria-expanded={open === i}>{f.q}</button>
                {open === i && <p className="mt-2 small">{f.a}</p>}
              </article>
            ))}
          </div>
        </div>
      </section>
    </>
  );
}
